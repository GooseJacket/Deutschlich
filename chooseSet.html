<! DOCTYPE html>
<html>
  <head>
    <title>Deutschlich - Choose Card Set</title>
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="bigTile">
        <label for="cars">Choose a card set:</label>
    
        <select name="cars" id="data" onchange>
          <option value="D1-I-Zahlen.txt">D1: Intro: Zahlen</option>
          <option value="D1-I-Vokab.txt">D1: Intro: Vokab</option>
          
          <option value="D1-Ch1-Wo wohnst du.txt">D1: Ch1: Wo wohnst du?</option>
          
          <option value="D1-Ch2-die Familie.txt">D1: Ch2: die Familie</option>
          <option value="D1-Ch2-Zeit, Telefon und Lesestueck.txt">D1: Ch2: Zeit, Telefon, und Lesestueck</option>
          
          <option value="D1-Ch3-Aktuelles.txt">D1: Ch3: Aktuelles</option>
          <option value="D1-Ch3-Wer geht zur Rockkonzert.txt">D1: Ch3: Wer geht zur Rockkonzert?</option>
          <option value="D1-Ch3-Was machst du gern.txt">D1: Ch3: Was machst du gern?</option>
          <option value="D1-Ch3-Wohin gehst du.txt">D1: Ch3: Wohin gehst du?</option>

          <option value="D1-Ch4-in der Schule.txt">D1: Ch4: in der Schule</option>
          <option value="D1-Ch4-Schule in Deutschland.txt">D1: Ch4: Schule in Deutschland</option>
          <option value="D1-Ch4-Welche Faecher hast du gern.txt">D1: Ch4: Welche Faecher hast du gern?</option>
          <option value="D1-Ch4-Lesestueck.txt">D1: Ch4: Lesestueck</option>

          <option value="D1-Ch5-Wie ist das Wetter.txt">D1: Ch5: Wie ist das Wetter?</option>
          <option value="D1-Ch5-Lesestueck.txt">D1: Ch5: Lesestueck</option>
          <option value="D1-Ch5-Laender und Sprachen.txt">D1: Ch5: Laender und Sprachen</option>

          <option value="D1-Ch6-Ich habe Hunger.txt">D1: Ch6: Ich habe Hunger</option>
          <option value="D1-Ch6-Eis und Eiscafe.txt">D1: Ch6: Eis und Eiscafe</option>

          <option value="D1-Ch7-Kleidungsstuecke.txt">D1: Ch7: Kleidungsstuecke</option>
          <option value="D1-Ch7-B.txt">D1: Ch7: B</option>

          <option value="D1-Ch8-Geburtstag und Geschenke.txt">D1: Ch8: Geburtstag und Geschenke</option>
          <option value="D1-Ch8-Zimmer und Moebel.txt">D1: Ch8: Zimmer und Moebel</option>
          <option value="D1-Ch8-Land und Leute.txt">D1: Ch8: Land und Leute</option>
          <option value="D1-Ch8-Herzlichen Glueckwunsch zum Geburtstag.txt">D1: Ch8: Herzlichen Glueckwunsch zum Geburtstag</option>

          <option value="D1-Ch9-Jugendliche und ihre Hobbys.txt">D1: Ch9: Jugendliche und ihre Hobbys</option>
          <option value="D1-Ch9-Lizzy Dean.txt">D1: Ch9: Lizzy Dean</option>
          <option value="D1-Ch9-Was musst du zu Hause machen.txt">D1: Ch9: Was musst du zu Hause machen?</option>
          
          <option value="D2-B1.Ch10-Im Flughafen.txt">D2: B1 Ch10: Im Flughafen</option>
          <option value="D2-B1.Ch10-Reisen.txt">D2: B1 Ch10: Reisen</option>
          <option value="D2-B1.Ch10-Sport.txt">D2: B1 Ch10: Sport</option>
          
          <option value="D2-B1.Ch11-Auf einem Campingplatz.txt">D2: B1 Ch11: Auf einem Campingplatz</option>
          <option value="D2-B1.Ch11-Wie komme ich zur Stadtmitte.txt">D2 B1 Ch11: Wie komme ich zur Stadtmitte?</option>
          <option value="D2-B1.Ch11-die Jugendherberge.txt">D2: B1 Ch11: die Jugendherberge</option>

          
          <option value="D3-B2.Ch5-Survivaltraining.txt">D3: B2 Ch5: Survivaltraining</option>
          <option value="D3-B2.Ch5-Wofuer interessieren Sie sich.txt">D3: B2 Ch5: Wof√ºr interessieren Sie sich?</option>
          
          <option value="D3-B2.Ch6-Vergnuegungspark.txt">D3: B2 Ch6: Vergnuegungspark</option>

          
          <option value="AP-B3.Ch1.1-Schulen.txt">AP: B3 Ch1.1: Schulen (AP VERSION!!!)</option>
          
          <option value="AP-B3.Ch2.1-Familie.txt">AP: B3 Ch2.1: Familie (AP VERSION!!!)</option>
          <option value="AP-B3.Ch2.2-Gemeinschaften.txt">AP: B3 Ch2.2: Gemeinschaften</option>
          <option value="AP-B3.Ch2.3-Traditionen und Alternativen.txt">AP: B3 Ch2.3: Traditionen und Alternativen</option>
          
          <option value="AP-B3.Ch3.1-Die Rolle des Essens.txt">AP: B3 Ch3.1: Die Rolle des Essens</option>
        </select>
        <button onclick="setData()">Go!</button>
    </div>
    <script>
      function setCookie(cname, cvalue, exdays) { //general function that pushes the cookie to the server
    const d = new Date();
    d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));
    let expires = "expires="+d.toUTCString();
    document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
  }

  function getCookie(cname) { //general function that grabs cookie from server
    let name = cname + "=";
    let ca = document.cookie.split(';');
    for(let i = 0; i < ca.length; i++) {
      let c = ca[i];
      while (c.charAt(0) == ' ') {
        c = c.substring(1);
      }
      if (c.indexOf(name) == 0) {
        return c.substring(name.length, c.length);
      }
    }
    return "";
  }

  var dataSheets= new Array();
  var ddl = document.getElementById("data");
  for (i = 0; i < ddl.options.length; i++) {
     dataSheets[i] = ddl.options[i].value;
  }
  //dataSheets = ["test1.txt", "test2.txt", "mercedes", "wrong"]; //UPDATE THIS AT SOME POINT

      function getDataFromCookie(){ //data getCookie
          let d = getCookie("dataSheet");
          //window.alert(d);
          if (d==""){
          window.alert("No data sheet selected!");
          }
          else if(dataSheets.includes(d)){
            window.alert("Data sheet loaded! " + d);
            window.location.replace("https://goosejacket.github.io/Deutschlich/");
          }
          else window.alert("Uh. Something. Uh. Something went wrong. Yell at Ang at laladgdg@gmail.com to fix it, tell her 'something with the cookies pulling data on chooseSet.html'");
        }  

         function setData(){ //data setCookie
           let x = document.getElementById("data").value;
           setCookie("dataSheet", x, 365);
           getDataFromCookie();
         }
          </script>
  </body>
</html>
